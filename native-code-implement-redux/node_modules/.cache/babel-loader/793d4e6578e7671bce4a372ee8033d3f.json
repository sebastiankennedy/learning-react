{"ast":null,"code":"const reducers = {\n  todos(state, action) {\n    const {\n      type,\n      payload\n    } = action;\n\n    switch (type) {\n      case 'set':\n        return payload;\n\n      case 'add':\n        return [...state, payload];\n\n      case 'remove':\n        return state.filter(todo => {\n          return todo.id !== payload;\n        });\n\n      case 'toggle':\n        return state.map(todo => {\n          return todo.id === payload ? { ...todo,\n            complete: !todo.complete\n          } : todo;\n        });\n    }\n\n    return state;\n  },\n\n  incrementCount(state, action) {\n    const {\n      type\n    } = action;\n\n    switch (type) {\n      case 'set':\n      case 'add':\n        return state + 1;\n    }\n\n    return state;\n  }\n\n};\n\nfunction combineReducers(reducers) {\n  const changed = {}; // state 代表全局状态\n\n  return function reducer(state, action) {\n    for (let key in reducer) {\n      // 根据数据字段进行单独更新\n      changed[key] = reducers[key](state[key], action);\n    }\n\n    return { ...state,\n      ...changed\n    };\n  };\n}\n\nexport default combineReducers(reducers);","map":{"version":3,"sources":["/Users/sebastian/Code/Study/learning-react/native-code-implement-redux/src/reducers.js"],"names":["reducers","todos","state","action","type","payload","filter","todo","id","map","complete","incrementCount","combineReducers","changed","reducer","key"],"mappings":"AAAA,MAAMA,QAAQ,GAAG;AACbC,EAAAA,KAAK,CAACC,KAAD,EAAQC,MAAR,EAAgB;AACjB,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAoBF,MAA1B;;AAEA,YAAQC,IAAR;AACI,WAAK,KAAL;AACI,eAAOC,OAAP;;AACJ,WAAK,KAAL;AACI,eAAO,CAAC,GAAGH,KAAJ,EAAWG,OAAX,CAAP;;AACJ,WAAK,QAAL;AACI,eAAOH,KAAK,CAACI,MAAN,CAAaC,IAAI,IAAI;AACxB,iBAAOA,IAAI,CAACC,EAAL,KAAYH,OAAnB;AACH,SAFM,CAAP;;AAGJ,WAAK,QAAL;AACI,eAAOH,KAAK,CAACO,GAAN,CAAUF,IAAI,IAAI;AACrB,iBAAOA,IAAI,CAACC,EAAL,KAAYH,OAAZ,GACD,EACE,GAAGE,IADL;AAEEG,YAAAA,QAAQ,EAAE,CAACH,IAAI,CAACG;AAFlB,WADC,GAKDH,IALN;AAMH,SAPM,CAAP;AAVR;;AAmBA,WAAOL,KAAP;AACH,GAxBY;;AAyBbS,EAAAA,cAAc,CAACT,KAAD,EAAQC,MAAR,EAAgB;AAC1B,UAAM;AAAEC,MAAAA;AAAF,QAAWD,MAAjB;;AAEA,YAAQC,IAAR;AACI,WAAK,KAAL;AACA,WAAK,KAAL;AACI,eAAOF,KAAK,GAAG,CAAf;AAHR;;AAMA,WAAOA,KAAP;AACH;;AAnCY,CAAjB;;AAsCA,SAASU,eAAT,CAAyBZ,QAAzB,EAAmC;AAC/B,QAAMa,OAAO,GAAG,EAAhB,CAD+B,CAE/B;;AACA,SAAO,SAASC,OAAT,CAAiBZ,KAAjB,EAAwBC,MAAxB,EAAgC;AACnC,SAAK,IAAIY,GAAT,IAAgBD,OAAhB,EAAyB;AACrB;AACAD,MAAAA,OAAO,CAACE,GAAD,CAAP,GAAef,QAAQ,CAACe,GAAD,CAAR,CAAcb,KAAK,CAACa,GAAD,CAAnB,EAA0BZ,MAA1B,CAAf;AACH;;AAED,WAAO,EACH,GAAGD,KADA;AAEH,SAAGW;AAFA,KAAP;AAIH,GAVD;AAWH;;AAED,eAAeD,eAAe,CAACZ,QAAD,CAA9B","sourcesContent":["const reducers = {\n    todos(state, action) {\n        const { type, payload } = action;\n\n        switch (type) {\n            case 'set':\n                return payload\n            case 'add':\n                return [...state, payload]\n            case 'remove':\n                return state.filter(todo => {\n                    return todo.id !== payload\n                })\n            case 'toggle':\n                return state.map(todo => {\n                    return todo.id === payload\n                        ? {\n                            ...todo,\n                            complete: !todo.complete\n                        }\n                        : todo\n                })\n        }\n        return state\n    },\n    incrementCount(state, action) {\n        const { type } = action;\n\n        switch (type) {\n            case 'set':\n            case 'add':\n                return state + 1;\n        }\n\n        return state;\n    }\n}\n\nfunction combineReducers(reducers) {\n    const changed = {}\n    // state 代表全局状态\n    return function reducer(state, action) {\n        for (let key in reducer) {\n            // 根据数据字段进行单独更新\n            changed[key] = reducers[key](state[key], action);\n        }\n\n        return {\n            ...state,\n            ...changed\n        }\n    }\n}\n\nexport default combineReducers(reducers);"]},"metadata":{},"sourceType":"module"}