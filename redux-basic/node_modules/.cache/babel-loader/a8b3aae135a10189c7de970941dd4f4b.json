{"ast":null,"code":"import _objectSpread from \"/Users/sebastian/Code/Study/react-tutorials/redux-basic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { combineReducers } from \"redux\";\nimport { ADD_TODO, TOGGLE_TODO, SET_VISIBILITY_FILTER, VisibilityFilters } from \"../actionTypes\";\nconst SHOW_ALL = VisibilityFilters.SHOW_ALL;\n\nfunction visibilityFilter(state = SHOW_ALL, action) {\n  switch (action.type) {\n    case SET_VISIBILITY_FILTER:\n      return action.filter;\n\n    default:\n      return state;\n  }\n}\n\nfunction todoList(state = [], action) {\n  switch (action.type) {\n    case ADD_TODO:\n      return [...state, {\n        text: action.text,\n        completed: false\n      }];\n\n    case TOGGLE_TODO:\n      return state.map((todo, index) => {\n        if (index === action.index) {\n          return _objectSpread({}, todo, {\n            completed: !todo.completed\n          });\n        }\n\n        return todo;\n      });\n\n    default:\n      return state;\n  }\n}\n/* combineReducers 等价于如下代码\nfunction todoApp(state = initialState, action) {\n    return {\n        visibilityFilter: visibilityFilter(state.visibilityFilter, action),\n        todoList: todoList(state.todoList, action)\n    }\n}\n*/\n\n\nconst todoApp = combineReducers({\n  visibilityFilter,\n  todoList\n});\nexport default todoApp;","map":{"version":3,"sources":["/Users/sebastian/Code/Study/react-tutorials/redux-basic/src/reducers/index.js"],"names":["combineReducers","ADD_TODO","TOGGLE_TODO","SET_VISIBILITY_FILTER","VisibilityFilters","SHOW_ALL","visibilityFilter","state","action","type","filter","todoList","text","completed","map","todo","index","todoApp"],"mappings":";AAAA,SAAQA,eAAR,QAA8B,OAA9B;AACA,SACIC,QADJ,EAEIC,WAFJ,EAGIC,qBAHJ,EAIIC,iBAJJ,QAKO,gBALP;MAOOC,Q,GAAYD,iB,CAAZC,Q;;AAEP,SAASC,gBAAT,CAA0BC,KAAK,GAAGF,QAAlC,EAA4CG,MAA5C,EAAoD;AAChD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKN,qBAAL;AACI,aAAOK,MAAM,CAACE,MAAd;;AACJ;AACI,aAAOH,KAAP;AAJR;AAMH;;AAED,SAASI,QAAT,CAAkBJ,KAAK,GAAG,EAA1B,EAA8BC,MAA9B,EAAsC;AAClC,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKR,QAAL;AACI,aAAO,CACH,GAAGM,KADA,EAEH;AACIK,QAAAA,IAAI,EAAEJ,MAAM,CAACI,IADjB;AAEIC,QAAAA,SAAS,EAAE;AAFf,OAFG,CAAP;;AAOJ,SAAKX,WAAL;AACI,aAAOK,KAAK,CAACO,GAAN,CAAU,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC9B,YAAIA,KAAK,KAAKR,MAAM,CAACQ,KAArB,EAA4B;AACxB,mCACOD,IADP;AAEIF,YAAAA,SAAS,EAAE,CAACE,IAAI,CAACF;AAFrB;AAIH;;AAED,eAAOE,IAAP;AACH,OATM,CAAP;;AAUJ;AACI,aAAOR,KAAP;AArBR;AAuBH;AACD;;;;;;;;;;AASA,MAAMU,OAAO,GAAGjB,eAAe,CAAC;AAC5BM,EAAAA,gBAD4B;AAE5BK,EAAAA;AAF4B,CAAD,CAA/B;AAKA,eAAeM,OAAf","sourcesContent":["import {combineReducers} from \"redux\";\nimport {\n    ADD_TODO,\n    TOGGLE_TODO,\n    SET_VISIBILITY_FILTER,\n    VisibilityFilters\n} from \"../actionTypes\";\n\nconst {SHOW_ALL} = VisibilityFilters;\n\nfunction visibilityFilter(state = SHOW_ALL, action) {\n    switch (action.type) {\n        case SET_VISIBILITY_FILTER:\n            return action.filter;\n        default:\n            return state;\n    }\n}\n\nfunction todoList(state = [], action) {\n    switch (action.type) {\n        case ADD_TODO:\n            return [\n                ...state,\n                {\n                    text: action.text,\n                    completed: false\n                }\n            ];\n        case TOGGLE_TODO:\n            return state.map((todo, index) => {\n                if (index === action.index) {\n                    return {\n                        ...todo,\n                        completed: !todo.completed\n                    }\n                }\n\n                return todo;\n            });\n        default:\n            return state;\n    }\n}\n/* combineReducers 等价于如下代码\nfunction todoApp(state = initialState, action) {\n    return {\n        visibilityFilter: visibilityFilter(state.visibilityFilter, action),\n        todoList: todoList(state.todoList, action)\n    }\n}\n*/\n\nconst todoApp = combineReducers({\n    visibilityFilter,\n    todoList\n});\n\nexport default todoApp;"]},"metadata":{},"sourceType":"module"}